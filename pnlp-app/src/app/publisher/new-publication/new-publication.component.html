<div class="mt-4 d-flex justify-content-center">
  <div class="">
    <div class="lead">
      Start a Publication
    </div>
    <div class="small text-muted mb-3">
      straight from your pen to the rest of the universe
    </div>
    <div class="card">
      <div class="card-body">
        <form [formGroup]="publicationForm">
          <div class="form-group">
            <label class="text-muted small" for="publication-name">Publication Name</label>
            <input
              type="text"
              class="form-control"
              name="publication-name"
              id="publication-name"
              placeholder="E.g. 'The New York Rhymes'"
              formControlName="nameControl"
              required
            />
          </div>
          <div class="form-group">
            <label class="text-muted small" for="publication-description">Tagline</label>
            <input
              type="text"
              class="form-control"
              name="publication-description"
              id="publication-description"
              placeholder="E.g. 'All the verse that's fit to print'"
              formControlName="descriptionControl"
            />
          </div>
          <div class="row mb-0 pb-0">
            <div class="col-5 pr-1">
              <div class="form-group">
                <label class="text-muted small" for="publication-url">URL</label>
                <input
                  type="text"
                  class="form-control"
                  name="publication-url"
                  id="publication-url"
                  placeholder="E.g 'nyrhymes'"
                  formControlName="subdomainControl"
                  required
                />
              </div>
            </div>
            <div class="col text-muted row-align-bottom lead pl-1">
              <div class="form-group">
                <label for="publication-domain"></label>
                <div>.on.pnlp.network</div>
              </div>
            </div>
          </div>
          <div class="small text-info mt-0 pt-0">
            <span
              *ngIf="
                !publicationForm.controls.subdomainControl.valid && this.publicationForm.get('subdomainControl').dirty;
                else empty
              "
              >{{ subdomainError }}</span
            >
            <!-- ugly hack to keep the row aligned so the content below doesn't jump when the error appears  -->
            <ng-template #empty><span>&emsp;</span></ng-template>
          </div>
          <div class="mt-4">
            <button
              type="submit"
              class="btn btn-primary btn-block btn-lg"
              (click)="submit()"
              [disabled]="!publicationForm.valid || networkRequest"
            >
              {{ networkRequest ? 'Starting Engines...' : 'Lift Off' }}
            </button>
          </div>
        </form>
      </div>
    </div>

    <div class="mt-3">
      <div *ngIf="error" class="alert alert-danger" role="alert">
        {{ error }}
      </div>
    </div>
  </div>
</div>
