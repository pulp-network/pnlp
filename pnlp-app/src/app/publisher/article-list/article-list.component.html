<div class="mt-4 d-flex justify-content-center">
  <div *ngIf="(articleList$ | async)?.publication" class="flex-grow-1">
    <div class="d-flex justify-content-between">
      <div>
        <div class="lead">
          {{ (articleList$ | async)?.publication?.metadata?.name }}
        </div>
        <div class="small text-muted mb-3">
          {{ (articleList$ | async)?.publication?.metadata?.description }}
        </div>
      </div>
      <div>
        <button
          type="submit"
          class="btn btn-primary"
          [routerLink]="'/write'"
          [queryParams]="{ publication: publicationSubdomain }"
        >
          Start Writing
          <svg
            width="1em"
            height="1em"
            viewBox="0 0 16 16"
            class="bi bi-arrow-right"
            fill="currentColor"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              fill-rule="evenodd"
              d="M10.146 4.646a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708-.708L12.793 8l-2.647-2.646a.5.5 0 0 1 0-.708z"
            />
            <path fill-rule="evenodd" d="M2 8a.5.5 0 0 1 .5-.5H13a.5.5 0 0 1 0 1H2.5A.5.5 0 0 1 2 8z" />
          </svg>
        </button>
      </div>
    </div>

    <div class="list-group" *ngIf="!error">
      <a
        *ngFor="let article of (articleList$ | async)?.article_refs"
        class="list-group-item list-group-item-action"
        [routerLink]="[article.name]"
      >
        <div class="d-flex w-100 justify-content-between">
          <span>
            {{ article?.name }}
          </span>
          <small> CID: {{ article?.cid }} </small>
        </div>
      </a>
    </div>

    <div *ngIf="!(articleList$ | async)?.article_refs.length" class="text-center">
      <img src="assets/pnlp-logo-grey@190.png" alt="pulp logo" height="190px" />
      <div class="lead text-muted">There are no articles here yet</div>
    </div>
  </div>

  <div *ngIf="networkRequest" class="mt-5">
    <div class="spinner-grow text-primary" role="status">
      <span class="sr-only">Loading...</span>
    </div>
  </div>
</div>

<div *ngIf="error" class="alert alert-light text-center" role="alert">
  <div class="mb-3">
    <svg
      width="10em"
      height="10em"
      viewBox="0 0 16 16"
      class="bi bi-patch-question-fll"
      fill="currentColor"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        fill-rule="evenodd"
        d="M5.933.87a2.89 2.89 0 0 1 4.134 0l.622.638.89-.011a2.89 2.89 0 0 1 2.924 2.924l-.01.89.636.622a2.89 2.89 0 0 1 0 4.134l-.637.622.011.89a2.89 2.89 0 0 1-2.924 2.924l-.89-.01-.622.636a2.89 2.89 0 0 1-4.134 0l-.622-.637-.89.011a2.89 2.89 0 0 1-2.924-2.924l.01-.89-.636-.622a2.89 2.89 0 0 1 0-4.134l.637-.622-.011-.89a2.89 2.89 0 0 1 2.924-2.924l.89.01.622-.636zM7.002 11a1 1 0 1 1 2 0 1 1 0 0 1-2 0zm1.602-2.027c-.05.386-.218.627-.554.627-.377 0-.585-.317-.585-.745v-.11c0-.727.307-1.208.926-1.641.614-.44.822-.762.822-1.325 0-.638-.42-1.084-1.03-1.084-.55 0-.916.323-1.074.914-.109.364-.292.51-.564.51C6.203 6.12 6 5.873 6 5.48c0-.251.045-.468.139-.69.307-.798 1.079-1.29 2.099-1.29 1.341 0 2.262.902 2.262 2.227 0 .896-.376 1.511-1.05 1.986-.648.445-.806.726-.846 1.26z"
      />
    </svg>
  </div>
  <div class="lead">
    There is no publication named <b>{{ publicationSubdomain }}</b> or we had trouble loading it. Please try again
    later.
  </div>
</div>
